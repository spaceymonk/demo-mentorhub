<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head('MentorHub::Mentorship Application')"></head>

<body>
<div th:replace="fragments/navbar :: navbar"></div>
<h2>Mentorship Application Form</h2>

<form action="#" method="post">
    <label for="categoryselector">Please select a major subject:</label>
    <select name="category" id="categoryselector">
        <option value="" selected></option>
        <option th:each="category : ${categories}" th:value="${category}" th:text="${category.majorSubject}"></option>
    </select>
    <p> Please select at least 1 subject:</p>
    <div th:each="category : ${categories}" style="display: none" th:id="${category.majorSubject}" class="categories">
        <div th:each="subject : ${category.subjects}">
            <input type="checkbox" th:name="${subject}" th:value="${subject}"/><label th:text="${subject}"></label><br>
        </div>
    </div>
    <label for="msgInput">Why we should accept your mentorship application?</label>
    <input id="msgInput" type="text" name="msg" placeholder="Explain your accomplishments, awards etc."/>
    <button type="submit">Submit</button>
</form>

<div th:replace="fragments/footer :: footer"></div>
<script th:inline="javascript">
    $("#categoryselector").change(function () {
        let selectedCategory = $("#categoryselector option:selected").text();
        $(".categories").each(function (index) {
            $(this).hide();
        })
        $(`#${selectedCategory}`).show();
    });
</script>
</body>
</html>

