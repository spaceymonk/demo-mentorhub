<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head('MentorHub::Dashboard')"></head>

<body>
<div th:replace="fragments/navbar :: navbar"></div>

<section style="min-height: 100vh;">
    <h2 class="mt-5">Waiting Mentorship Requests</h2>
    <div class="container my-5">
        <p th:if="${waitingRequests.isEmpty()}">There are no waiting requests.</p>
        <div th:if="${!waitingRequests.isEmpty()}" class="accordion">
            <div th:each="request : ${waitingRequests}" class="accordion-item">
                <h2 class="accordion-header" th:id="${'heading'+request.id}">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            th:data-bs-target="${'#collapse'+request.id}" aria-expanded="false"
                            th:aria-controls="${'collapse'+request.id}">
                        Request <span class="fst-italic ms-1" th:text="${request.id}">$id$</span>
                    </button>
                </h2>
                <div th:id="${'collapse'+request.id}" class="accordion-collapse collapse"
                     th:aria-labelledby="${'heading'+request.id}">
                    <div class="accordion-body">
                        <div class="row">
                            <div class="col">
                                <div class="row container mb-3">
                                    <div class="col small">Requested&nbsp;from:&nbsp;
                                        <span class="fst-italic"
                                              th:text="${request.mentor.actualName}">$username$</span></div>
                                    <div class="col small text-sm-end">Requested&nbsp;date:&nbsp;
                                        <span class="fst-italic"
                                              th:text="${#dates.format(request.date, 'yyyy/MM/dd HH:mm:ss')}">$date$</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p style="text-align: justify;" th:text="${request.text}">$text$</p>
                                        <strong>Selected subjects under
                                            <span class="fst-italic"
                                                  th:text="${request.selectedSubject.majorSubject}">$major$</span>:
                                        </strong>
                                        <ul>
                                            <li th:each="subject : ${request.selectedSubject.subjects}"
                                                th:text="${subject}"></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-auto text-end mt-3 ps-5">
                                <a href="#" class="btn btn-outline-success btn-sm">Accept</a>
                                <a href="#" class="btn btn-danger btn-sm">Reject</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<div th:replace="fragments/footer :: footer"></div>
</body>
</html>

